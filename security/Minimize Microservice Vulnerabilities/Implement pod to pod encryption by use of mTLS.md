 # Implement pod to pod encryption by use of mTLS
 POD 간 통신도 스니핑에 의해 데이터가 탈취될 수 있다.  
 따라서 POD간 통신도 암호화가 필요한데 일반적인 mTLS 방식과 같다.  
 서로 인증서를 교환하고 유효성을 확인하면,  
 대칭키를 이용한 통신을 활성화한다.    

 그런데 클러스터 안에서 인증서나 키 같이 TLS 통신에 필요한 것들은 어떻게 할까?  
 애플리케이션에서 코드로 할 수도 있지만 복잡도가 증가한다.  
 그래서 애플리케이션 자체에서 암호화하기보다는 Istio 같은 서비스 메시를 사용.    

## Istio
 서비스 메시(Service Mesh)는 암호화 통신에만 이용되는 것은 아니다.  
 각 서비스 간의 통신 자체를 제어하고 관리한다.  
 
 만약 nginx 파드가 mysql 파드로 메시지를 전송한다고 하면,  
 두 파드 안에 Istio 사이드카가 동작하게 된다.  
 1. nginx 컨테이너에서 생성한 메시지를 Istio가 가로채서 암호화한다.
 2. 암호화한 데이터를 mysql 파드의 Istio가 받아서 해독하여 mysql 컨테이너로 전달한다.  

만약 서로 통신이 필요한 파드가 같은 클러스터에 속하지 않는다면 암호화를 해제할 수는 있다.  
